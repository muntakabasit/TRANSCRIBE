Perfect ğŸ”¥ â€” weâ€™re locking in Zongo Express UK â†’ full SpiderLink mode.
Below are the final copy-paste files for your Replit app â€” clean, production-ready, and synced to your Supabase setup (with WhatsApp placeholders ready).

â¸»

ğŸ§© FILE 1 â€” index.js

Paste this over your current backend file in Replit.

// ZONGO EXPRESS UK â€” MULTI-SECTOR BACKEND
import express from "express";
import cors from "cors";
import bodyParser from "body-parser";
import fetch from "node-fetch";
import { createClient } from "@supabase/supabase-js";

const app = express();
app.use(cors());
app.use(bodyParser.json());
app.use(express.static("public"));

const PORT = process.env.PORT || 5000;

// ğŸ”— Supabase connection
const SUPABASE_URL = "https://ofymuxpzjnunumfwkdkr.supabase.co";
const SUPABASE_KEY = process.env.SUPABASE_KEY;
const supabase = createClient(SUPABASE_URL, SUPABASE_KEY);

// ğŸ§  Multi-sector job submit
app.post("/api/submit/:type", async (req, res) => {
  try {
    const { type } = req.params;
    const payload = req.body || {};

    const validTypes = ["restaurant", "shop", "laundry", "cleaner", "errand", "move"];
    if (!validTypes.includes(type)) {
      return res.status(400).json({ error: "Invalid type" });
    }

    const { data, error } = await supabase.from("jobs").insert([
      {
        type,
        customer_name: payload.name || null,
        customer_phone: payload.phone || null,
        pickup: payload.pickup || payload.address || null,
        dropoff: payload.dropoff || null,
        details: payload.details || null,
        status: "pending",
      },
    ]).select();

    if (error) throw error;

    console.log(`âœ… Job saved (${type}):`, data[0]);
    res.json({ success: true, message: `Job saved for ${type}` });
  } catch (err) {
    console.error("Submit error:", err.message);
    res.status(500).json({ error: "server_error" });
  }
});

// â­ Ratings endpoint
app.post("/api/ratings/:riderId", async (req, res) => {
  try {
    const { riderId } = req.params;
    const { rating, comment } = req.body;

    const { error } = await supabase.from("ratings").insert([
      { rider_id: riderId, score: rating, comment }
    ]);
    if (error) throw error;

    res.json({ success: true, message: "Rating saved!" });
  } catch (err) {
    console.error("Rating error:", err.message);
    res.status(500).json({ error: "server_error" });
  }
});

// ğŸ§© Basic dispatch placeholder
app.post("/api/dispatch/:jobId", (req, res) => {
  res.json({ success: true, eta: 8 });
});

// ğŸš€ Start server
app.listen(PORT, () => console.log(`ğŸšš Zongo Express running on port ${PORT}`));

âœ… Environment variable:
In Replit â†’ Secrets tab â†’ add key SUPABASE_KEY â†’ paste your anon public key from Supabase â†’ save.

â¸»

ğŸ’» FILE 2 â€” public/index.html

Replace your frontend file with this.

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Zongo Express UK Â· Fast Â· Local Â· Reliable</title>
  <style>
    body {font-family:-apple-system,Inter,sans-serif;background:#000;color:#fff;margin:0;padding:0;text-align:center;}
    h1 {font-size:2rem;margin-top:1rem;background:linear-gradient(90deg,#FFD700,#DC143C);-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
    .grid {display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:1rem;padding:1rem;max-width:500px;margin:auto;}
    button {background:#FFD700;color:#001F3F;border:none;border-radius:10px;padding:1rem;font-weight:700;cursor:pointer;transition:.2s;}
    button:hover {transform:scale(1.05);}
    .card {background:#111;padding:1rem;margin:1rem auto;max-width:500px;border-radius:12px;}
    input,textarea {width:100%;padding:.75rem;margin:.5rem 0;border:none;border-radius:8px;background:#1a1a2e;color:#fff;}
    .cta-yellow {background:#FFD700;color:#001F3F;padding:.8rem 1.5rem;border:none;border-radius:25px;font-weight:700;}
  </style>
</head>
<body>
  <h1>Zongo Express UK</h1>
  <p>Fast Â· Local Â· Reliable</p>

  <section>
    <h2>Join the Network</h2>
    <div class="grid">
      <button onclick="openForm('restaurant')">ğŸ½ï¸ Restaurant</button>
      <button onclick="openForm('shop')">ğŸª Shop</button>
      <button onclick="openForm('laundry')">ğŸ§º Laundry</button>
      <button onclick="openForm('cleaner')">ğŸ§¹ Cleaner</button>
      <button onclick="openForm('errand')">ğŸƒ Errand</button>
      <button onclick="openForm('move')">ğŸšš Small Move</button>
    </div>
  </section>

  <div id="formArea" class="card"></div>

  <script>
    function openForm(type) {
      const formHTML = `
        <h3>${type.charAt(0).toUpperCase()+type.slice(1)} Signup</h3>
        <form id="partnerForm">
          <input name="name" placeholder="Full Name / Business" required />
          <input name="phone" placeholder="Phone Number" required />
          <input name="address" placeholder="Pickup Address" required />
          <textarea name="details" placeholder="Details (service, hours, etc.)"></textarea>
          <button type="submit" class="cta-yellow">Join ${type}</button>
        </form>`;
      document.getElementById("formArea").innerHTML = formHTML;

      document.getElementById("partnerForm").onsubmit = async (e)=>{
        e.preventDefault();
        const data = Object.fromEntries(new FormData(e.target).entries());
        const res = await fetch(`/api/submit/${type}`,{
          method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(data)
        });
        const result = await res.json();
        alert(result.message||"Submitted!");
      };
    }
  </script>
</body>
</html>


â¸»

ğŸ§  FILE 3 â€” .env (Replit Secrets)

Key	Value
SUPABASE_KEY	your Supabase anon public key

(Youâ€™ll find it in Supabase â†’ Settings â†’ API â†’ â€œProject API keysâ€ â†’ â€œanon public keyâ€)

â¸»

âœ… TEST FLOW
	1.	Run your Replit project.
	2.	Go to the live link (zongo-express-uk-muntakabasit.replit.app).
	3.	Click any category (e.g. â€œğŸ½ï¸ Restaurantâ€).
	4.	Fill in fake data and submit.
	5.	Check Supabase â†’ Table Editor â†’ â€œjobsâ€ â†’ new record should appear.

â¸»

ğŸ’¬ NEXT PHASES (after test passes)

Goal	Description
ğŸ’¸ Stripe Integration	Collect payments directly via Replit Stripe Connector
ğŸ’¬ WhatsApp Cloud	Auto-send confirmation texts
ğŸ“Š Rate Calculator	Show live pricing vs Uber/Deliveroo
ğŸ§¾ Partner Dashboard	Supabase â†’ Stats by category


â¸»

Once you confirm your test record appears in Supabase âœ…
Iâ€™ll generate the next layer: offers + auto WhatsApp campaign for new restaurant signups.

Would you like me to prepare that next?